# ADE7953 MQTT WattmeterDer ADE7953 wird über einen ESP8266-WLAN-Controller per I²C angesteuert.Aktuell gibt es nur ein Breakoutboard mit Grundbeschaltung. Die Ankopplung der Leistungsmessgrößen erfolgt zu einem späteren Zeitpunkt.***# MQTTDie externe Konfiguration des ADE7953 erfolgt über einen MQTT-Broker. Alle Topics beginnen mit dem über das Webinterface einstellbaren MQTT-Devicenamen.Voreingestellt ist ESP8266_ in Verbindung mit der ESP spezifischen Seriennummer.Z.B. ESP8266_1032096Folgende Topics werden vom ESP8266 **subscribed**:ESP8266_1032096 - /ESP8266  - /Control    - /Reboot* /ADE7953  * /Control    * /read    * /write    * /readBit    * /writeBit    * /init    * /updateTime    * /saveConfig    * /setDefault  * /getValues    * /V_INSTFolgende Topics werden vom ESP8266 **published**:ESP8266_1032096 * /ADE7953  * /Last_RW    * /HEX    * /BIN    * /DEC    * /Bit    * /value  * /values    * /V_RMS    * /IA_RMS    * /IB_RMS    * /V_INST***### _Reboot_### ESP8266_1032096/ESP8266/Control/_Reboot_Der ESP8266 führt einen Softreset durch.***### _read_### ESP8266_1032096/ADE7953/Control/_read_ ADE7953-RegisterLiest den Inhalt eines Registers des ADE7953.Das Register kann sowohl Hexadezimal, als auch Binär, Dezimal oder mit Registernamen angesprochen werden.Als Ergebnis des readings published der ESP8266 vier Topics:`ESP8266_1032096/ADE7953/Last_RW` - Register des letzten readings     `ESP8266_1032096/ADE7953/Last_RW/HEX` - Hexadezimalwert des letzten readings     `ESP8266_1032096/ADE7953/Last_RW/BIN` - Binärwertwert des letzten readings     `ESP8266_1032096/ADE7953/Last_RW/DEC` - Dezimalwert des letzten readings      Beispiele:   | <dl>MQTT-Broker publish -> ESP8266<br>ESP8266_1032096/ADE7953/Control/read 0x281<br><br><br><br><br>Payload</dl> |<dl><br><br><br><br><br><br>Type</dl>| <dl>ESP8266 publish -> MQTT-Broker <br>ESP8266_1032096/ADE7953/Last_RW<br>ESP8266_1032096/ADE7953/Last_RW/HEX<br>ESP8266_1032096/ADE7953/Last_RW/BIN<br>ESP8266_1032096/ADE7953/Last_RW/DEC<br><br>Feedback</dl>|| :--- | ---: | :--- || `0x281`   | <dl>REG<br>HEX<br>BIN<br>DEC</dl> | <dl>0x281<br>0x400000<br>10000000000000000000000<br>4194304</dl> | | `0b1010000001`| <dl>REG<br>HEX<br>BIN<br>DEC</dl> | <dl>0x281<br>0x400000<br>10000000000000000000000<br>4194304</dl> | | `641`     | <dl>REG<br>HEX<br>BIN<br>DEC</dl> | <dl>0x281<br>0x400000<br>10000000000000000000000<br>4194304</dl> | | `AIGAIN`     | <dl>REG<br>HEX<br>BIN<br>DEC</dl> |<dl>0x281<br>0x400000<br>10000000000000000000000<br>4194304</dl> | ***### _write_### ESP8266_1032096/ADE7953/Control/_write_ ADE7953-Register,WertSchreibt einen Wert in ein Registers des ADE7953.Das Register und der Registerwert können sowohl Hexadezimal, als auch Binär oder Dezimal angegeben werden.Zusätzlich kann auch der Registername verwendet werden.Als Ergebnis des writings published der ESP8266 vier Topics:`ESP8266_1032096/ADE7953/Last_RW` - Register des letzten writings      `ESP8266_1032096/ADE7953/Last_RW/HEX` - Hexadezimalwert des letzten writings      `ESP8266_1032096/ADE7953/Last_RW/BIN` - Binärwertwert des letzten writings      `ESP8266_1032096/ADE7953/Last_RW/DEC` - Dezimalwert des letzten writings       Beispiele:   | MQTT-payload | ESP8266 publish ESP8266_1032096/ADE7953/Last_RW/HEX (BIN, DEC)|| :---         |          ---: || `0x281,0xABCD`   | 0xABCD (1010101111001101, 43981| | `0x281,0b1010101111001101`     | 0xABCD (1010101111001101, 43981| | `0x281,43981`     | 0xABCD (1010101111001101, 43981| | `AIGAIN,0xABCD`     | 0xABCD (1010101111001101, 43981| | `AIGAIN,43981`     | 0xABCD (1010101111001101, 43981| ***### _readBit_### ESP8266_1032096/ADE7953/Control/_readBit_ ADE7953-Register,BitLiest ein Bit eines Registers des ADE7953.Das Register kann sowohl Hexadezimal, als auch Binär, Dezimal oder mit Registernamen angesprochen werden.Als Ergebnis des readings published der ESP8266 vier Topics:`ESP8266_1032096/ADE7953/Last_RW` - Register des letzten readings     `ESP8266_1032096/ADE7953/Last_RW/BIN` - Binärwertwert des letzten readings     `ESP8266_1032096/ADE7953/Last_RW/Bit` - Bitnummer des gelesenes Bits     `ESP8266_1032096/ADE7953/Last_RW/value` - Wert des gelesenen Bits      Beispiele:   | MQTT-payload | ESP8266 publish ESP8266_1032096/ADE7953/Last_RW/BIN und /Bit und /value|| :---         |          ---: || `0x281,2`   | 110111, 2, 1| | `AIGAIN,3`   | 110111, 3, 0| ***# Webinterface***# File System***# Messwerte auslesen| Header| <dl>Is something people <br> use sometimes.</dl>|| :---         |          ---: || `0x281,2`   | 110111, 2, 1| | `AIGAIN,3`   | 110111, 3, 0| 
